<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Check-in)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f8fafc; font-family: 'Inter', Tahoma, sans-serif; padding: 1rem; }
        .logo-container { max-width: 500px; margin: 0 auto 1.5rem; padding: 0.5rem; background-color: white; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }
        .checkin-container { max-width: 500px; margin: 1rem auto; background-color: white; border-top: 8px solid #ec4899; border-radius: 0.5rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 1.5rem; text-align: center; }
        /* history-container will be hidden by default using the 'hidden' class from Tailwind */
        .history-container { max-width: 500px; margin: 1.5rem auto; background-color: white; border-radius: 0.5rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 1.5rem; text-align: left; } 
        /* Custom colors defined in presentation_agenda.html */
        .text-secondary-purple { color: #5b21b6; }
        .bg-accent-pink { background-color: #ec4899; }
        .hover\:bg-pink-700:hover { background-color: #be185d; }
    </style>
</head>
<body>
    <!-- Logo Header Added -->
    <div class="logo-container text-center">
        <img src="https://lh3.googleusercontent.com/d/1E7Z5y-T2KR0sfkfrBMNbd_QAILy29a0F" 
             alt="Partner Logos" 
             class="max-w-full h-auto mx-auto rounded-lg"
             style="max-height: 100px; width: auto;">
    </div>
    
    <div class="checkin-container">
        <h1 class="text-2xl font-bold mb-2 text-secondary-purple">‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Check-in)</h1>
        <p class="text-sm text-gray-500 mb-6">‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</p>
        
        <div class="mb-4 text-left">
            <label class="block text-sm font-medium mb-1 text-gray-700" for="student_id">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="text-red-500">*</span></label>
            <input type="text" id="student_id" onkeyup="checkIfUserCanViewHistory()" class="w-full p-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="A123@email.com ‡∏´‡∏£‡∏∑‡∏≠ B456@email.com (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö)">
        </div>

        <div class="mb-6 text-left">
            <label class="block text-sm font-medium mb-1 text-gray-700" for="module">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠/‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà/‡πÄ‡∏ß‡∏•‡∏≤/‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î) <span class="text-red-500">*</span></label>
            <select id="module" class="w-full p-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠/‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ --</option>
                
                <optgroup label="AI Automation & Data Integration Master (1 - 15 ‡∏û.‡∏¢. 68)">
                    <!-- 1 ‡∏û.‡∏¢. 68 (‡πÄ‡∏™‡∏≤‡∏£‡πå) -->
                    <option value="AI-20251101-AM">1 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 1: ‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤ No-Code/Low-Code (‡∏ó‡∏§‡∏©‡∏é‡∏µ)</option>
                    <option value="AI-20251101-PM">1 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 2: ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)</option>
                    <!-- 2 ‡∏û.‡∏¢. 68 (‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå) -->
                    <option value="AI-20251102-AM">2 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 3: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Logic/Flow (‡∏ó‡∏§‡∏©‡∏é‡∏µ)</option>
                    <option value="AI-20251102-PM">2 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 4: Workshop: AppSheet (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)-1</option>
                    <!-- 8 ‡∏û.‡∏¢. 68 (‡πÄ‡∏™‡∏≤‡∏£‡πå) -->
                    <option value="AI-20251108-AM">8 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 4: Workshop: AppSheet (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)-2</option>
                    <option value="AI-20251108-PM">8 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 5: Workshop: N8N (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)-1</option>
                    <!-- 9 ‡∏û.‡∏¢. 68 (‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå) -->
                    <option value="AI-20251109-AM">9 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 5: Workshop: N8N (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)-2</option>
                    <option value="AI-20251109-PM">9 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 5: Workshop: N8N (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)-3</option>
                    <!-- 15 ‡∏û.‡∏¢. 68 (‡πÄ‡∏™‡∏≤‡∏£‡πå) -->
                    <option value="AI-20251115-AM">15 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 6: Project: ‡∏û‡∏±‡∏í‡∏ô‡∏≤ MVP (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)</option>
                    <option value="AI-20251115-PM">15 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 6: Project: ‡∏û‡∏±‡∏í‡∏ô‡∏≤ MVP & ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</option>
                </optgroup>
                
                <optgroup label="Camera AI Master (22 ‡∏û.‡∏¢. - 6 ‡∏ò.‡∏Ñ. 68)">
                    <!-- 22 ‡∏û.‡∏¢. 68 (‡πÄ‡∏™‡∏≤‡∏£‡πå) -->
                    <option value="CAI-20251122-AM">22 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 1: ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå‡∏î‡πâ‡∏ß‡∏¢ Pytorch (‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1)</option>
                    <option value="CAI-20251122-PM">22 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 1: ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå‡∏î‡πâ‡∏ß‡∏¢ Pytorch (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2)</option>
                    <!-- 23 ‡∏û.‡∏¢. 68 (‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå) -->
                    <option value="CAI-20251123-AM">23 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 2: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å (‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1)</option>
                    <option value="CAI-20251123-PM">23 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 2: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2)</option>
                    <!-- 29 ‡∏û.‡∏¢. 68 (‡πÄ‡∏™‡∏≤‡∏£‡πå) -->
                    <option value="CAI-20251129-AM">29 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 3: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ß‡∏•‡∏π‡∏ä‡∏±‡∏ô (CNN) (‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1)</option>
                    <option value="CAI-20251129-PM">29 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 3: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ß‡∏•‡∏π‡∏ä‡∏±‡∏ô (CNN) (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2)</option>
                    <!-- 30 ‡∏û.‡∏¢. 68 (‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå) -->
                    <option value="CAI-20251130-AM">30 ‡∏û.‡∏¢. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 4: ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏ö‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡πÇ‡∏≠‡∏ô & Object Detection (‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1)</option>
                    <option value="CAI-20251130-PM">30 ‡∏û.‡∏¢. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 4: ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏ö‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡πÇ‡∏≠‡∏ô & Object Detection (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2)</option>
                    <!-- 6 ‡∏ò.‡∏Ñ. 68 (‡πÄ‡∏™‡∏≤‡∏£‡πå) -->
                    <option value="CAI-20251206-AM">6 ‡∏ò.‡∏Ñ. (‡πÄ‡∏ä‡πâ‡∏≤, 09.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 5: ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏î‡πâ‡∏ß‡∏¢ YOLO (‡∏ó‡∏§‡∏©‡∏é‡∏µ/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1)</option>
                    <option value="CAI-20251206-PM">6 ‡∏ò.‡∏Ñ. (‡∏ö‡πà‡∏≤‡∏¢, 13.00): ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 5: ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏î‡πâ‡∏ß‡∏¢ YOLO (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥/‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2)</option>
                </optgroup>

            </select>
        </div>

        <button onclick="simulateCheckIn()" class="w-full bg-accent-pink text-white p-3 rounded-md font-bold hover:bg-pink-700 transition flex items-center justify-center">
            <span class="mr-2">‚è∞</span> ‡∏•‡∏á‡∏ô‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
        </button>
        
        <!-- Toggle History Button -->
        <button id="toggle-history-btn" onclick="toggleHistory()" class="mt-4 w-full text-sm font-semibold text-secondary-purple bg-indigo-100 p-2 rounded-md hover:bg-indigo-200 transition hidden">
            ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
        </button>

        <p id="checkin-status" class="mt-4 text-sm text-green-600 font-semibold hidden p-2 bg-green-50 rounded-lg">
            ‚úÖ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß
        </p>

        <p class="text-center text-xs text-gray-400 mt-4">
            *‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ô‡∏µ‡πâ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Google App Script (GAS) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á Google Sheet
        </p>
    </div>

    <!-- New Check-in History Section - Hidden by default -->
    <div id="checkin-history" class="history-container hidden">
        <h2 class="text-xl font-bold mb-3 text-secondary-purple flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Check-in History)
        </h2>
        <p class="text-sm text-gray-600 mb-4" id="history-user-info"></p>
        
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà/‡πÄ‡∏ß‡∏•‡∏≤</th>
                        <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</th>
                    </tr>
                </thead>
                <tbody id="history-table-body" class="bg-white divide-y divide-gray-200 text-sm">
                    <!-- History rows will be inserted here by JavaScript -->
                </tbody>
            </table>
        </div>
        <p class="mt-4 text-xs text-gray-400 text-center">
            *‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å Google Sheet.
        </p>
    </div>
    
    <!-- Footer Added -->
    <footer class="mt-8 pt-4 border-t border-gray-200 text-center text-xs text-gray-500 max-w-500px mx-auto">
        ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏î‡∏¢ ‡∏≠.‡πÅ‡∏ó‡∏ô [‡∏ò‡∏µ‡∏£‡∏ä‡∏±‡∏¢ ‡πÇ‡∏â‡∏°‡∏ó‡∏±‡∏û] üë®‚Äçüíª Head of Digital Transformation
    </footer>
    <script>
        // Mock data structure: This simulates data fetched from Google Sheet based on student ID
        const mockHistory = {
            'A123@EMAIL.COM': [
                { date: '1 ‡∏û.‡∏¢. 68 (‡πÄ‡∏ä‡πâ‡∏≤, 09:00)', topic: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 1: ‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤ No-Code/Low-Code' },
                { date: '1 ‡∏û.‡∏¢. 68 (‡∏ö‡πà‡∏≤‡∏¢, 13:00)', topic: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 2: ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•' },
                { date: '2 ‡∏û.‡∏¢. 68 (‡πÄ‡∏ä‡πâ‡∏≤, 09:00)', topic: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 3: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Logic/Flow' },
            ],
            'B456@EMAIL.COM': [
                { date: '22 ‡∏û.‡∏¢. 68 (‡πÄ‡∏ä‡πâ‡∏≤, 09:00)', topic: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 1: ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô Pytorch' },
                { date: '29 ‡∏û.‡∏¢. 68 (‡∏ö‡πà‡∏≤‡∏¢, 13:00)', topic: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 3: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡πÅ‡∏ö‡∏ö CNN (‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥)' },
            ]
        };

        const historyContainer = document.getElementById('checkin-history');
        const toggleBtn = document.getElementById('toggle-history-btn');

        function toggleHistory() {
            historyContainer.classList.toggle('hidden');
            if (historyContainer.classList.contains('hidden')) {
                toggleBtn.textContent = '‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô';
            } else {
                toggleBtn.textContent = '‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô';
            }
        }

        function checkIfUserCanViewHistory() {
            const studentId = document.getElementById('student_id').value;
            // Check if the input value is a mock user ID
            const isMockUser = mockHistory[studentId.toUpperCase().trim()];
            
            if (isMockUser) {
                // If a known user ID is entered, show the toggle button and populate data
                toggleBtn.classList.remove('hidden');
                displayCheckInHistory(studentId);
            } else {
                // If not a known user ID, hide the toggle button and history
                toggleBtn.classList.add('hidden');
                historyContainer.classList.add('hidden');
            }
            // Reset button text to default state (Show)
            toggleBtn.textContent = '‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô';
        }

        function displayCheckInHistory(studentId) {
            const tableBody = document.getElementById('history-table-body');
            const userHistory = mockHistory[studentId.toUpperCase().trim()] || [];
            
            tableBody.innerHTML = ''; // Clear previous history
            
            document.getElementById('history-user-info').textContent = `‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ Check-in ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö: ${studentId}`;

            if (userHistory.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="2" class="px-3 py-3 text-center text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ</td></tr>';
                return;
            }

            userHistory.forEach(item => {
                const row = tableBody.insertRow();
                row.classList.add('hover:bg-indigo-50');
                
                const dateCell = row.insertCell(0);
                dateCell.textContent = item.date;
                dateCell.classList.add('px-3', 'py-2', 'whitespace-nowrap', 'font-medium', 'text-gray-900');

                const topicCell = row.insertCell(1);
                topicCell.textContent = item.topic;
                topicCell.classList.add('px-3', 'py-2', 'text-gray-700');
            });
            // Note: We don't call historyContainer.classList.remove('hidden') here. 
            // The visibility is controlled only by the toggleButton.
        }

        function simulateCheckIn() {
            const studentId = document.getElementById('student_id').value;
            const module = document.getElementById('module').value;
            const status = document.getElementById('checkin-status');
            
            // 1. Check if required fields are filled
            if (studentId.trim() === "" || module.trim() === "") {
                // Handle error state
                status.classList.remove('hidden', 'text-green-600', 'bg-green-50');
                status.classList.add('text-red-600', 'bg-red-50');
                status.textContent = '‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô';
                
                // Hide history when error occurs
                toggleBtn.classList.add('hidden');
                historyContainer.classList.add('hidden');
                
                return; 
            }
            
            // 2. Success simulation 
            status.classList.remove('hidden', 'text-red-600', 'bg-red-50');
            status.classList.add('text-green-600', 'bg-green-50');
            
            const selectedText = document.getElementById('module').options[document.getElementById('module').selectedIndex].text;
            
            status.innerHTML = `‚úÖ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠: <strong>${selectedText}</strong> ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß (${new Date().toLocaleTimeString('th-TH')})`;
            
            // 3. Update/Display history controls
            checkIfUserCanViewHistory(); // To update history data and show toggle button
            historyContainer.classList.remove('hidden'); // Show history after successful check-in
            toggleBtn.textContent = '‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô'; // Change button to Hide
        }
        
        // Initial check on load (for testing with pre-filled values, though typically empty in a real app)
        window.onload = checkIfUserCanViewHistory;
    </script>
</body>
</html>
